nextflow_workflow {

    name "Test Workflow CLAIRS_TO_CALLING"
    script "subworkflows/local/variant_calling/clairs_to_calling.nf"
    workflow "CLAIRS_TO_CALLING"

    test("Should run without failures") {

        when {
            params {
                // define parameters here. Example:
                adaptive = true
            }
            workflow {
                """
                // define inputs of the workflow here. Example:
                input[0] = tuple id:"HCC1395", file("${projectDir}/test_data/input/HCC1395_tumor_chr17_demo.bam"), file("${projectDir}/test_data/input/HCC1395_tumor_chr17_demo.bam.bai")
                input[1] = Channel.fromPath("${projectDir}/test_data/ref/GRCh38_no_alt_chr17.fa")
                input[2] = Channel.of('chr17')
                input[3] = Channel.of('ont_r10_dorado_sup_5khz_ssrs')
                """
            }
        }

        then {
            assert workflow.success
        }

    }

}
